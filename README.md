# Aiogram 3 BOT_TEMPLATE

## Структура проекта

### Файлы

- `config.py`: файл с конфигурационными данными, включая токен Telegram-бота.
- `main.py`: основной файл проекта, запускающий бота и настраивающий обработчики.
- `handlers/commands.py`: обработчики для команд.
- `handlers/messages.py`: обработчики для текстовых сообщений.
- `keyboards/inline.py`: конструктор кнопок для вывода внутри сообщения.
- `keyboards/replay.py`: конструктор кнопок для вывода в основную область.
- `filters/*`: фильтры сообщений и комманд.

### Зависимости

- `aiogram`: библиотека для работы с Telegram API.
- `config`: модуль с конфигурационными данными, включая токен Telegram-бота.

## Работа с ботом

1. **Инициализация бота и диспетчера:**

    ```python
    bot = Bot(token=config.token.get_secret_value(), parse_mode=ParseMode.HTML)
    dp = Dispatcher()
    ```

    Создается объект бота и диспетчера с установленным режимом парсинга HTML.

2. **Подключение обработчиков:**

    ```python
    dp.include_routers(
        commands.router,
        messages.router
    )
    ```

    Подключаются модули `commands` и `messages` с обработчиками команд и сообщений соответственно.

3. **Логирование:**

    ```python
    logging.basicConfig(level=logging.INFO)
    ```

    Настраивается система логирования для отслеживания событий и ошибок.

4. **Отключение вебхука:**

    ```python
    await bot.delete_webhook(drop_pending_updates=True)
    ```

    Отключается вебхук, чтобы избежать доставки ожидающих обновлений во время отключения бота.

5. **Запуск бота:**

    ```python
    await dp.start_polling(bot)
    ```

    Запускается бот с использованием метода `start_polling`, который начинает опрос обновлений.

6. **Запуск основной функции:**

    ```python
    if __name__ == "__main__":
        asyncio.run(main())
    ```

    Выполняется основная функция `main` с использованием библиотеки `asyncio`, обеспечивая асинхронную работу бота.

## Запуск проекта

1. Установите зависимости:

    ```bash
    pip install -r requirements.txt
    ```

2. Заполните файл `config.py` токеном вашего Telegram-бота.

3. Запустите файл `main.py`:

    ```bash
    python main.py
    ```

    Бот теперь готов к использованию в вашем Telegram-чате.
